---
layout: post
title: Cron jobs using whenever
---

h1. {{ page.title }}

p(meta). 16 Jan 2012 - Mumbai

In classpro, we need to send automatic fees reminder to the students. So i was searching for setting up cron jobs.

Since we are using Ruby on Rails 3.1 for development. I googled for setting up cron jobs for rails.

So lets start with "what are cron jobs?"

Cron jobs
“Cron” is a time-based job scheduler in Unix-like operating systems. And these jobs or tasks are referred to as “Cron Jobs”.

There is a cron “daemon” that runs on these systems. A daemon is a program that runs in the background all the time, usually initiated by the system. This cron daemon is responsible for launching these cron jobs on schedule.

The schedule resides in a configuration file named “crontab”. That’s where all the tasks and their timers are listed.

Syntax
Here is a simple cron job:
0 5 * * * /bin/bash -l -c 'automysqlbackup.sh' >> /var/log/cron.log


There are three main parts:
1. The first part is “* * * * *”. This is where we schedule the timer.
2. The middle part of the line is the command as it would run from the command line.
3. and the last ">> /var/log/cron.log" logs the output of the job to the file.

Timing Syntax

This is the first part of the cron job string, as mentioned above. It determines how often and when the cron job is going to run.
It consists of five parts:
    minute
    hour
    day of month
    month
    day of week

Editing the Crontab:
crontab -e  

If you would just like to see the existing crontab without editing it, you can run this command:
crontab -l  

To delete the contents of the crontab:
crontab -r  

To restart cron jobs:
restart cron



Now, I wanted to run a Rails code from the cron jobs.
There are two ways to do it:
1. write custom rake task and run it via cron jobs.
2. Use rails runner command to run rails code.

 

